##:kivy !



PicturessMainPage:

<ChangeKeyPopup>:
    title: "Change API Key"
    auto_dismiss: True
    size_hint: 0.5, 0.2
    TextInput:
        text: 'Write Api Key'
        focus: True
        multiline: False
        on_text_validate: root.hello(self)



#App
<PicturessMainPage>:
    orientation:"vertical"
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    RelativeLayout:
        size_hint: 1,0.1
#_____________________________________NavBar-Start_____________________________________
        BoxLayout:
            orientation:"horizontal"
            size_hint: 1,1
            
            #Picturess logo

            Label:
                size_hint: .1,.5
                text:"Picturess"
                color: 0,0,0,1
                pos_hint:{"center_y": .5}

            # Button:
            #     size_hint: .3,1
            #     background_normal: 'normal.png'

            Button:
                size_hint: .3,.5
                text:"Change Api Key"
                ids: {"btn_id":"btn_change_api_key"}
                
                on_release: root.on_button_click(self)
                #on_release: Factory.MyPopup().open()

                disabled: not root.btns_enable_compression
                pos_hint:{"center_y": .5}

            Label:
                size_hint: .3,.5
                pos_hint:{"center_y": .5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                color: 0,0,0,1
                text:root.label_api_messages
                
    
            Label:
                size_hint: .3,.5
                pos_hint:{"center_y": .5}
                text_size: self.size
                halign: 'left'
                valign: 'middle'
                color: 0,0,0,1
                text:root.label_app_alerts


#_____________________________________NavBar-Finish_____________________________________



    #Bottomlayout
    BoxLayout:
        size_hint: 1,0.9
        orientation:"horizontal"

#_____________________________________Options_Bar-Start_____________________________________
        StackLayout:
            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            size_hint: 0.3,1
            orientation:"rl-tb"
            padding: ("10dp","10dp","10dp","10dp" )

            Label:
                size_hint:1,.1
                color: 0,0,0,1
                text:root.lab_left_images
                #font_name:"fonts/AnekLatin.ttf"
            Button:
                size_hint: 1,.2
                text:"Select Folder"
                ids: {"btn_id":"open_folder_btn"}

                on_release: root.on_button_click(self)
                disabled: not root.btns_enable_compression
            Label:
                size_hint:1,.1
                color: 0,0,0,1
                text: root.lab_left_waterm
            Switch:
                active:True
                size_hint: 1,None
                height:"20dp"
                #text:"Watermark?"
                on_active: root.on_switch_active(self)
                disabled: not root.btns_enable_compression
#_____________________________________Options_Bar-Finish_____________________________________


        BoxLayout:
            size_hint: .7,1
            orientation:"vertical"
            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            #Pantallita con los nombres de los archivos 
            BoxLayout:
                size_hint: 1,.8
                orientation:"vertical"
                Label:
                    color: 0,0,0,1
                    text: root.lab_right_compr_eta
                ProgressBar:
                    value:100
                    max:100
                Label:
                    color: 0,0,0,1
                    text:root.lab_right_compr_inf
                
#_____________________________________Action_Bar-Start_____________________________________

            BoxLayout:
                size_hint: 1,.2
                orientation:"horizontal"
                canvas:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                padding: ("10dp","10dp","10dp","10dp" )

                Label:
                    size_hint: .6,1
                    halign: 'left'
                    valign: 'top'
                    color: 0,0,0,1
                    text:root.lab_right_save_fldr
                    text_size: self.size

                Button:
                    size_hint: .4,1
                    text:"Start"
                    ids: {"btn_id":"start_image_compression"}
                    on_release: root.on_button_click(self)
                    disabled: not root.btns_enable_compression
#_____________________________________Action_Bar-Finish_____________________________________

